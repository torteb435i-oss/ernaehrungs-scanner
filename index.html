<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Nutrition AI Vision Pro + OCR</title>
    
    <script src="https://unpkg.com/html5-qrcode@2.3.8/html5-qrcode.min.js"></script>
    <script src="https://unpkg.com/tesseract.js@v2.1.0/dist/tesseract.min.js"></script>
    
    <style>
        :root {
            --primary: #007AFF; --bg: #f5f5f7; --glass: rgba(255, 255, 255, 0.8);
            --text: #1d1d1f; --green: #34c759; --red: #ff3b30; --warn: #ff9500;
        }
        @media (prefers-color-scheme: dark) {
            :root { --bg: #000000; --glass: rgba(28, 28, 30, 0.9); --text: #f5f5f7; }
        }

        body { 
            font-family: -apple-system, system-ui, sans-serif; background: var(--bg); margin: 0; color: var(--text);
            padding-bottom: env(safe-area-inset-bottom);
        }

        header {
            background: var(--glass); backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px);
            padding: env(safe-area-inset-top) 20px 20px; text-align: center;
            position: sticky; top: 0; z-index: 100; border-bottom: 0.5px solid rgba(120,120,120,0.2);
        }

        .container { width: 92%; max-width: 440px; margin: 20px auto 40px; }

        .card {
            background: var(--glass); backdrop-filter: blur(30px); -webkit-backdrop-filter: blur(30px);
            border-radius: 25px; padding: 22px; box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            margin-bottom: 18px; border: 1px solid rgba(150,150,150,0.1);
        }

        .mode-switch { display: flex; gap: 10px; margin-bottom: 20px; }
        .mode-btn { 
            flex: 1; padding: 12px; border-radius: 12px; border: none; 
            background: rgba(120,120,120,0.1); color: var(--text); font-weight: 600; cursor: pointer;
        }
        .mode-btn.active { background: var(--primary); color: white; }

        #reader-wrapper { position: relative; width: 100%; background: #000; display: none; overflow: hidden; border-radius: 0 0 25px 25px; }
        #reader { width: 100%; height: 350px; }

        .btn { background: var(--primary); color: white; border: none; padding: 18px; border-radius: 18px; font-size: 1.1rem; font-weight: 700; width: 100%; cursor: pointer; }
        
        .ai-features { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin: 15px 0; }
        .feature-box { background: rgba(120,120,120,0.1); padding: 12px; border-radius: 18px; text-align: center; font-size: 0.8rem; }
        
        .allergy-warn { color: var(--red); font-weight: bold; background: rgba(255, 59, 48, 0.1); padding: 12px; border-radius: 15px; margin: 10px 0; font-size: 0.85rem; border: 1px solid var(--red); }
        .additive-item { padding: 8px; border-bottom: 0.5px solid rgba(120,120,120,0.2); font-size: 0.85rem; }
        .risk-high { color: var(--red); font-weight: bold; }
        
        .loading-ocr { display: none; text-align: center; padding: 20px; color: var(--primary); font-weight: bold; }
        .hidden { display: none !important; }
    </style>
